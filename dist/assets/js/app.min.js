"use strict";!function(){angular.module("app",["ng","ui.bootstrap","ngComponentRouter","app.team","app.competition","app.fixture"])}(),function(){angular.module("app").config(["$httpProvider","$locationProvider","ConfigsProvider",function(a,b,c){b.html5Mode(!0),a.defaults.headers.get={"X-Auth-Token":c.getApiKey()}}])}(),function(){angular.module("app").value("$routerRootComponent","app").component("app",{template:"<ng-outlet><ng-outlet>",controller:["CompetitionService",function(a){var b=this;b.competitions=null,b.$routerOnActivate=function(){return a.getAll().then(function(a){b.competitions=a})}}],$routeConfig:[{path:"/leagues",name:"CompetitionList",component:"competitionList",useAsDefault:!0},{path:"/leagues/:id",name:"CompetitionDetails",component:"competitionDetails"},{path:"/leagues/:id/:matchDay",name:"CompetitionDetailsbyDay",component:"competitionDetails"},{path:"/leagues/:id/teams",name:"CompetitionTeams",component:"teamList"},{path:"/teams/:id",name:"TeamDetails",component:"teamDetails"},{path:"/fixture",name:"FixtureList",component:"fixtureList"}]})}(),function(){angular.module("app")}(),function(){angular.module("app.competition",[])}(),angular.module("app.competition").component("competitionDetails",{templateUrl:"app/competition/detailsView/competition.details.html",controllerAs:"vm",controller:["$q","$rootRouter","CompetitionService","LeagueTableService",function(a,b,c,d){function e(a){b.navigate(["CompetitionDetailsbyDay",{id:f.competition.id,matchDay:a}])}var f=this;f.competition=null,f.leagueTable=null,f.groups=null,f.group=null,f.matchDay=null,f.matchDays=null,f.filterByMatchDay=e,f.$routerOnActivate=function(b){return a.all([c.get(b.params.id).then(function(a){return f.competition=a,a}).then(function(a){return f.matchDays=Array.apply(null,{length:a.numberOfMatchdays}).map(Number.call,Number),a}),d.get(b.params.id,b.params.matchDay).then(function(a){return f.leagueTable=a,a}).then(function(a){return f.matchDay=+a.matchday,a}).then(function(a){return f.groups=a.standing&&[]||Object.keys(a.standings),f.groups}).then(function(a){return f.group=f.groups[0]||null})])}}],$routeConfig:[]}),angular.module("app.competition").component("competitionList",{templateUrl:"app/competition/listView/competition.list.html",controllerAs:"vm",controller:["CompetitionService",function(a){var b=this;b.competitions=null,b.$routerOnActivate=function(){return a.getAll().then(function(a){b.competitions=a})}}]}),function(){angular.module("app.fixture",[])}(),angular.module("app.fixture").component("fixtureList",{templateUrl:"app/fixture/listView/fixture.list.html",controllerAs:"vm",controller:["FixtureService",function(a){var b=this;b.fixtures=null,b.$routerOnActivate=function(c){return a.getAll(c.params.id).then(function(a){b.fixtures=a})}}]}),function(){function a(){function a(){return e}function b(){return f}function c(a){e=a}function d(a){f=a}var e="http://api.football-data.org/",f="293eb02126bd4780b14c49af3ff7c4a0";return{setApiUrl:c,getApiUrl:a,setApiKey:d,getApiKey:b,$get:function(){return{get apiUrl(){return e},get apiKey(){return f}}}}}angular.module("app").provider("Configs",a),a.$inject=[]}(),function(){function a(a,b){function c(c){return a({method:"GET",url:b.apiUrl+"/v1/competitions/",params:{season:c}}).then(function(a){return a.data})}function d(c){return a({method:"GET",url:b.apiUrl+"/v1/competitions/"+c}).then(function(a){return a.data})}return{getAll:c,get:d}}angular.module("app").factory("CompetitionService",a),a.$inject=["$http","Configs"]}(),function(){function a(a,b){function c(c,d,e){return a({method:"GET",url:b.apiUrl+"/v1/competitions/"+c+"/fixtures",params:{timeFrame:d,matchday:e}}).then(function(a){return a.data})}function d(c,d,e,f){return a({method:"GET",url:b.apiUrl+"/v1/teams/"+c+"/fixtures/",params:{timeFrame:d,season:e,venue:f}}).then(function(a){return a.data})}function e(c,d){return a({method:"GET",url:b.apiUrl+"/v1/fixtures/",params:{timeFrame:c,league:d}}).then(function(a){return a.data}).then(function(a){return a.fixtures=a.fixtures.map(function(a){return a.competition=+a._links.competition.href.match(/\/(\d+)/)[1],a.homeTeam=+a._links.homeTeam.href.match(/\/(\d+)/)[1],a.awayTeam=+a._links.awayTeam.href.match(/\/(\d+)/)[1],a}),a})}function f(c,d){return a({method:"GET",url:b.apiUrl+"/v1/fixtures/"+c,params:{head2head:d}}).then(function(a){return a.data})}return{getAll:e,getAllByCompetition:c,getAllByTeam:d,get:f}}angular.module("app").factory("FixtureService",a),a.$inject=["$http","Configs"]}(),function(){function a(a,b){function c(c,d){return a({method:"GET",url:b.apiUrl+"/v1/competitions/"+c+"/leagueTable",params:{matchday:d}}).then(function(a){return a.data}).then(function(a){return a.standing&&(a.standing=a.standing.map(function(a){return a.teamId=+a._links.team.href.match(/\/(\d+)/)[1],a})),a})}return{get:c}}angular.module("app").factory("LeagueTableService",a),a.$inject=["$http","Configs"]}(),function(){function a(a,b){function c(c){return a({method:"GET",url:b.apiUrl+"/v1/teams/"+c+"/players"}).then(function(a){return a.data})}return{getAllByTeam:c}}angular.module("app").factory("PlayerService",a),a.$inject=["$http","Configs"]}(),function(){function a(a,b){function c(c){return a({method:"GET",url:b.apiUrl+"/v1/competitions/"+c+"/teams"}).then(function(a){return a.data}).then(function(a){return a.teams=a.teams.map(function(a){return a.teamId=+a._links.self.href.match(/\/(\d+)/)[1],a}),a})}function d(c){return a({method:"GET",url:b.apiUrl+"/v1/teams/"+c}).then(function(a){return a.data})}return{getAllByCompetition:c,get:d}}angular.module("app").factory("TeamService",a),a.$inject=["$http","Configs"]}(),function(){angular.module("app.team",[])}(),angular.module("app.team").component("teamDetails",{templateUrl:"app/team/detailsView/team.details.html",controllerAs:"vm",controller:["$q","$rootRouter","TeamService","PlayerService",function(a,b,c,d){var e=this;e.team=null,e.teamPlayers=null,e.$routerOnActivate=function(b){return a.all([c.get(b.params.id).then(function(a){return e.team=a,a}),d.getAllByTeam(b.params.id).then(function(a){return e.teamPlayers=a,a})])}}],$routeConfig:[]}),angular.module("app.team").component("teamList",{templateUrl:"app/team/listView/team.list.html",controllerAs:"vm",controller:["TeamService",function(a){var b=this;b.teams=null,b.$routerOnActivate=function(c){return a.getAllByCompetition(c.params.id).then(function(a){b.teams=a})}}]});
//# sourceMappingURL=app.min.js.map